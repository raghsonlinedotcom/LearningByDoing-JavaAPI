<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Java Modules & JPMS Tutorial</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      display: flex;
      min-height: 100vh;
    }
    #sidebar {
      width: 280px;
      position: fixed;
      top: 0;
      bottom: 0;
      overflow-y: auto;
      background-color: #f8f9fa;
      padding: 1rem;
      border-right: 1px solid #dee2e6;
    }
    #content {
      margin-left: 280px;
      padding: 2rem;
      width: 100%;
    }
    .search-input {
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <div id="sidebar">
    <h5>Module Topics</h5>
    <input type="text" class="form-control search-input" id="searchInput" placeholder="Search modules..." onkeyup="filterAccordion()">

    <div class="list-group">
      <a href="#intro" class="list-group-item list-group-item-action">1. What is JPMS?</a>
      <a href="#why" class="list-group-item list-group-item-action">2. Why Java Modules?</a>
      <a href="#how" class="list-group-item list-group-item-action">3. How JPMS Works?</a>
      <a href="#realtime" class="list-group-item list-group-item-action">4. Real-time Example</a>
      <a href="#pitfalls" class="list-group-item list-group-item-action">5. Common Pitfalls</a>
    </div>
  </div>

  <!-- Main Content -->
  <div id="content">
    <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">JPMS Tutorial</a>
        <div class="ms-auto">
          <select class="form-select" style="width:auto;" onchange="showToast('Switched to version: ' + this.value)">
            <option selected>JPMS v1.0</option>
            <option>JPMS v2.0</option>
            <option>JPMS Legacy</option>
          </select>
        </div>
      </div>
    </nav>

    <div class="accordion" id="jpmsAccordion">

      <div class="accordion-item" id="intro">
        <h2 class="accordion-header"><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">1. What is JPMS?</button></h2>
        <div id="collapseOne" class="accordion-collapse collapse show">
          <div class="accordion-body">
            JPMS stands for <strong>Java Platform Module System</strong>. Introduced in Java 9, it allows you to organize your application into modules ‚Äî self-describing units with clear dependencies and exports.

            <pre><code>module com.example.moduleA {
  exports com.example.api;
}</code></pre>
          </div>
        </div>
      </div>

      <div class="accordion-item" id="why">
        <h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">2. Why Java Modules?</button></h2>
        <div id="collapseTwo" class="accordion-collapse collapse">
          <div class="accordion-body">
            ‚úÖ Strong encapsulation  
            ‚úÖ Better dependency management  
            ‚úÖ Smaller runtime images with `jlink`  
            ‚úÖ Fewer classpath conflicts  
          </div>
        </div>
      </div>

      <div class="accordion-item" id="how">
        <h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">3. How JPMS Works?</button></h2>
        <div id="collapseThree" class="accordion-collapse collapse">
          <div class="accordion-body">
            JPMS uses the `module-info.java` file at root of each module:

            <pre><code>module com.app.main {
  requires com.lib.core;
  exports com.app.api;
}</code></pre>

            You compile modules with:
            <pre><code>javac -d mods/com.app.main src/com.app.main/module-info.java ...</code></pre>
          </div>
        </div>
      </div>

      <div class="accordion-item" id="realtime">
        <h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour">4. Real-time Example</button></h2>
        <div id="collapseFour" class="accordion-collapse collapse">
          <div class="accordion-body">
            üë®‚Äçüíª Let‚Äôs say you have:
            - `com.finverse.userauth`
            - `com.finverse.expense`
            - `com.finverse.dashboard`

            Each can be a module, exposing only necessary APIs and consuming others via `requires`.

            <pre><code>module com.finverse.expense {
  requires com.finverse.userauth;
  exports com.finverse.expense.api;
}</code></pre>
          </div>
        </div>
      </div>

      <div class="accordion-item" id="pitfalls">
        <h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive">5. Common Pitfalls</button></h2>
        <div id="collapseFive" class="accordion-collapse collapse">
          <div class="accordion-body">
            ‚ö†Ô∏è Avoid these:
            - Split packages (same package in multiple modules)
            - Not using `exports`/`opens` properly
            - Failing to migrate legacy libs

            <pre><code>opens com.example.model to com.fasterxml.jackson.databind;</code></pre>
          </div>
        </div>
      </div>

    </div>

    <div class="text-center mt-5">
      <button class="btn btn-outline-success" onclick="showToast('JPMS Tutorial Loaded')">‚úÖ Show Toast</button>
    </div>
  </div>

  <!-- Toast -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header bg-success text-white">
        <strong class="me-auto">JPMS UI</strong>
        <small>Just Now</small>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body" id="toastBody">JPMS UI Loaded</div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function showToast(message) {
      const toastEl = document.getElementById('liveToast');
      const toastBody = document.getElementById('toastBody');
      toastBody.textContent = message;
      const toast = new bootstrap.Toast(toastEl);
      toast.show();
    }

    function filterAccordion() {
      const input = document.getElementById("searchInput");
      const filter = input.value.toLowerCase();
      const items = document.querySelectorAll(".accordion-item");

      items.forEach(item => {
        if (item.textContent.toLowerCase().includes(filter)) {
          item.style.display = "";
        } else {
          item.style.display = "none";
        }
      });
    }
  </script>
</body>
</html>

