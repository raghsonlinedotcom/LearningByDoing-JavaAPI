<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Java Modules & JPMS Tutorial</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      padding-top: 4rem;
    }
    .sidebar {
      position: fixed;
      top: 4rem;
      left: 0;
      bottom: 0;
      width: 280px;
      padding: 1rem;
      background-color: #f8f9fa;
      overflow-y: auto;
    }
    main {
      margin-left: 300px;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">JPMS Tutorial</a>
      <div class="ms-auto">
        <select id="versionSwitcher" class="form-select">
          <option>v1.0 - Fundamentals</option>
          <option>v2.0 - Expanded</option>
        </select>
      </div>
    </div>
  </nav>

  <!-- Sidebar -->
  <div class="sidebar">
    <h5>Navigation</h5>
    <ul class="nav flex-column">
      <li class="nav-item"><a href="#intro" class="nav-link">1. Intro</a></li>
      <li class="nav-item"><a href="#why" class="nav-link">2. Why JPMS</a></li>
      <li class="nav-item"><a href="#structure" class="nav-link">3. Structure</a></li>
      <li class="nav-item"><a href="#cli" class="nav-link">4. CLI Example</a></li>
      <li class="nav-item"><a href="#ascii" class="nav-link">5. ASCII Diagram</a></li>
      <li class="nav-item"><a href="#realtime" class="nav-link">6. Real Use Cases</a></li>
      <li class="nav-item"><a href="#pitfalls" class="nav-link">7. Pitfalls</a></li>
    </ul>
    <input type="text" id="searchBox" class="form-control mt-3" placeholder="Search...">
  </div>

  <!-- Main Content -->
  <main class="container">
    <div class="accordion" id="jpmsAccordion">

      <div class="accordion-item" id="intro">
        <h2 class="accordion-header" id="headingIntro">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseIntro" aria-expanded="true">
            1. What is JPMS?
          </button>
        </h2>
        <div id="collapseIntro" class="accordion-collapse collapse show">
          <div class="accordion-body">
            JPMS stands for <strong>Java Platform Module System</strong> ‚Äî introduced in Java 9 to bring modularity.
            A module is a self-contained collection of code with explicit dependencies and exposed packages.
          </div>
        </div>
      </div>

      <div class="accordion-item" id="why">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseWhy">
            2. Why use JPMS?
          </button>
        </h2>
        <div id="collapseWhy" class="accordion-collapse collapse">
          <div class="accordion-body">
            <ul>
              <li>üíä Avoid Classpath Hell</li>
              <li>üîê Better encapsulation & security</li>
              <li>üöÄ Better performance & startup time</li>
              <li>üîç Clear dependencies via <code>requires</code></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="accordion-item" id="structure">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseStructure">
            3. Structure of a Module
          </button>
        </h2>
        <div id="collapseStructure" class="accordion-collapse collapse">
          <div class="accordion-body">
            <pre><code>// module-info.java
module com.example.hello {
  exports com.example.hello;
}</code></pre>
            <p>This tells the JVM what to export and what other modules may access.</p>
          </div>
        </div>
      </div>

      <div class="accordion-item" id="cli">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCli">
            4. Compile & Run from CLI
          </button>
        </h2>
        <div id="collapseCli" class="accordion-collapse collapse">
          <div class="accordion-body">
            <pre><code># Compile Hello module
javac -d out/hello com.hello/module-info.java com.hello/com/hello/Hello.java

# Compile Greetings module
javac --module-path out -d out/greetings \
      com.greetings/module-info.java \
      com.greetings/com/greetings/Main.java

# Run the main
java --module-path out -m com.greetings/com.greetings.Main</code></pre>
            <p>‚úÖ Output: <code>Hello from JPMS!</code></p>
          </div>
        </div>
      </div>

      <div class="accordion-item" id="ascii">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAscii">
            5. ASCII Diagram
          </button>
        </h2>
        <div id="collapseAscii" class="accordion-collapse collapse">
          <div class="accordion-body">
            <pre><code>       +------------------+
       |  com.greetings   |
       |------------------|
       | requires com.hello
       +------------------+
                |
                v
       +----------------+
       |   com.hello    |
       |----------------|
       | exports Hello  |
       +----------------+
</code></pre>
          </div>
        </div>
      </div>

      <div class="accordion-item" id="realtime">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRealtime">
            6. Real-time Use Cases
          </button>
        </h2>
        <div id="collapseRealtime" class="accordion-collapse collapse">
          <div class="accordion-body">
            <ul>
              <li>üîê Securing internal APIs in libraries</li>
              <li>üì¶ Creating isolated plugins/modules</li>
              <li>üß© Building maintainable large codebases</li>
              <li>üí° Improved reflection & control</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="accordion-item" id="pitfalls">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePitfalls">
            7. Common Pitfalls
          </button>
        </h2>
        <div id="collapsePitfalls" class="accordion-collapse collapse">
          <div class="accordion-body">
            <ul>
              <li>üîç Forgetting <code>exports</code> ‚Üí Access denied</li>
              <li>üîó Missing <code>requires</code> ‚Üí Compile failure</li>
              <li>‚ö†Ô∏è Reflection errors ‚Üí Use <code>opens</code> in <code>module-info.java</code></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Toast -->
  <div class="position-fixed bottom-0 end-0 p-3">
    <div id="liveToast" class="toast" role="alert">
      <div class="toast-header">
        <strong class="me-auto">JPMS UI</strong>
        <small>Now</small>
        <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
      </div>
      <div class="toast-body">Search not implemented yet. Coming soon!</div>
    </div>
  </div>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.getElementById('searchBox').addEventListener('input', function () {
      const toast = new bootstrap.Toast(document.getElementById('liveToast'));
      toast.show();
    });
  </script>
</body>
</html>

